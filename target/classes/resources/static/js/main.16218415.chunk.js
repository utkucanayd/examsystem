(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{192:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),o=n(33),r=n.n(o),c=(n(88),n(89),n(23),n(11)),i=n(12),d=n(14),l=n(13),u=n(193),h=n(194),j=n(195),x=n(196),p=n(199),b=n(17),O=n.n(b),m=n(20),f=n.n(m),g=n(21),v=n.n(g),I=(n(76),n(7)),C=n(0),S=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeExamName=function(e){a.setState({examName:e.target.value})},a.handleChangeStartDate=function(e){var t=O()(e.target.value).toDate();a.setState({startDate:t})},a.handleChangeEndDate=function(e){var t=O()(e.target.value).toDate();a.setState({endDate:t})},a.addQuestion=function(e,t,n,s,o){var r=a.state.questions,c=v()(e),i=v()(t),d=v()(n),l=v()(s),u=a.state.counter;""!==c?(a.setState({alert:""}),!0===a.checkIsAnyAnswerExist(l)?(a.setState({alert:""}),r.push({questionId:u,questionText:c,options:l,grade:i,penalty:d}),u+=1,a.setState({questions:r,counter:u}),o()):a.setState({alert:"noAnswer"})):a.setState({alert:"emptyQuestionText"})},a.checkIsAnyAnswerExist=function(e){var t=!1;return e.forEach((function(e){!0===e.isAnswer&&(t=!0)})),t},a.handleChangeQuestionText=function(e,t){var n=a.state.questions;n.forEach((function(n){n.questionId===t&&(n.questionText=e.target.value)})),a.setState({questions:n})},a.handleChangeGrade=function(e,t){var n=a.state.questions;n.forEach((function(n){n.questionId===t&&(n.grade=e.target.value)})),a.setState({questions:n})},a.deleteOption=function(e,t){var n=a.state.questions,s=[];n.forEach((function(n){n.questionId===e&&(n,n.options.forEach((function(e){e.optionId!==t&&s.push(e)})),n.options=s)})),0===s.length?a.deleteQuestion(e):a.setState({questions:n})},a.handleChangeAnswer=function(e,t){var n=a.state.questions;n.forEach((function(n){n.questionId===e&&n.options.forEach((function(e){e.optionId!==t?e.isAnswer=!1:e.isAnswer=!0}))})),a.setState({questions:n})},a.handleChangeOptionText=function(e,t,n){var s=a.state.questions;s.forEach((function(a){a.questionId===t&&a.options.forEach((function(t){t.optionId!==n&&(t.optionText=e.target.value)}))})),a.setState({questions:s})},a.deleteQuestion=function(e){var t=a.state.questions,n=[];t.forEach((function(t){t.questionId!==e&&n.push(t)})),a.setState({questions:n})},a.renderQuestions=function(){return 1===a.state.counter?null:Object(C.jsx)("div",{className:"addedQuestions",children:a.state.questions.map((function(e){return Object(C.jsxs)("div",{className:"question",children:[Object(C.jsx)("div",{children:Object(C.jsxs)(u.a,{className:"col-12",children:[Object(C.jsxs)("h3",{children:["Q",e.questionId,")"]}),Object(C.jsx)(h.a,{id:"question"+e.questionId,defaultValue:e.questionText,onChange:function(t){return a.handleChangeQuestionText(t,e.questionId)}})]})}),Object(C.jsxs)("div",{children:[Object(C.jsxs)(u.a,{className:"col-3",children:["Grade:"," ",Object(C.jsx)(h.a,{id:"grade"+e.questionId,defaultValue:e.grade,onChange:function(t){return a.handleChangeGrade(t,e.questionId)}})]}),Object(C.jsx)(j.a,{className:"btn btn-danger",color:"danger",onClick:function(){return a.deleteQuestion(e.questionId)},children:"Delete"})]}),Object(C.jsx)("div",{className:"options",children:Object(C.jsxs)(x.a,{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Option Text"}),Object(C.jsx)("th",{children:"Is Answer"}),Object(C.jsx)("th",{children:"Select as Answer"}),Object(C.jsx)("th",{children:"Delete"})]})}),Object(C.jsx)("tbody",{children:e.options.map((function(t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)(h.a,{id:"option"+t.optionId,defaultValue:t.optionText,onChange:function(n){return a.handleChangeOptionText(n,e.questionId,t.optionId)}})}),Object(C.jsxs)("td",{children:[t.isAnswer&&Object(C.jsx)("h5",{children:"True"}),!t.isAnswer&&Object(C.jsx)("h5",{children:"False"})]}),Object(C.jsx)("td",{children:Object(C.jsx)(j.a,{className:"btn btn-primary",color:"primary",onClick:function(){return a.handleChangeAnswer(e.questionId,t.optionId)},children:"Select"})}),Object(C.jsx)("td",{children:Object(C.jsx)(j.a,{className:"btn btn-danger",color:"danger",onClick:function(){return a.deleteOption(e.questionId,t.optionId)},children:"Delete"})})]},t.optionId)}))})]})})]},e.questionId)}))})},a.checkGradeSum=function(){var e=0;return a.state.questions.forEach((function(t){e+=parseFloat(t.grade)})),console.log(e),100===e},a.prepareJSON=function(){var e=[];return a.state.questions.forEach((function(t){var n=[];t.options.map((function(e){n.push({optionText:e.optionText,isAnswer:e.isAnswer})})),e.push({questionText:t.questionText,grade:t.grade,penalty:t.penalty,options:n})})),{examName:a.state.examName,startDate:a.state.startDate,endDate:a.state.endDate,questions:e}},a.handleSubmit=function(){if(""===a.state.examName)a.setState({alert:"emptyExamName"});else if(a.setState({alert:""}),0!==a.state.questions.length)if(a.setState({alert:""}),null!==a.state.startDate)if(a.setState({alert:""}),null!==a.state.endDate)if(a.setState({alert:""}),a.checkGradeSum()){a.setState({alert:""});var e=a.prepareJSON();console.log(e),f.a.post("/api/create/exam",e).then((function(e){console.log(e),console.log(e.data)})),console.log(e),a.setState({alert:!1}),a.props.history.go(0)}else a.setState({alert:"sum"});else a.setState({alert:"emptyEndDate"});else a.setState({alert:"emptyStartDate"});else a.setState({alert:"thereIsNoQuestion"})},a.alert=function(){return"sum"===a.state.alert?Object(C.jsx)(p.a,{color:"danger",children:"The sum of the question grades must be equal to 100"}):"noAnswer"===a.state.alert?Object(C.jsx)(p.a,{color:"danger",children:"Question doesn't have any answer!"}):"emptyQuestionText"===a.state.alert?Object(C.jsx)(p.a,{color:"danger",children:"Question Text is Empty!"}):"emptyExamName"===a.state.alert?Object(C.jsx)(p.a,{color:"danger",children:"Exam Name is Empty!"}):"emptyStartDate"===a.state.alert?Object(C.jsx)(p.a,{color:"danger",children:"Pick a Start Date!"}):"emptyEndDate"===a.state.alert?Object(C.jsx)(p.a,{color:"danger",children:"Pick a End Date!"}):"thereIsNoQuestion"===a.state.alert?Object(C.jsx)(p.a,{color:"danger",children:"No question Added!"}):null},a.state={examName:"",startDate:null,endDate:null,questions:[],counter:1,alert:""},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"createExam ",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"col text-center",children:Object(C.jsx)("h1",{children:"Create New Exam"})}),this.alert()]}),Object(C.jsx)(q,{handleChangeExamName:function(t){return e.handleChangeExamName(t)},handleChangeStartDate:function(t){return e.handleChangeStartDate(t)},handleChangeEndDate:function(t){return e.handleChangeEndDate(t)}}),this.renderQuestions(),Object(C.jsx)(w,{addQuestion:function(t,n,a,s,o){return e.addQuestion(t,n,a,s,o)}}),Object(C.jsx)("div",{className:"col text-center",children:Object(C.jsx)(j.a,{color:"primary",size:"lg",className:"button submitButton",onClick:this.handleSubmit,children:"Submit"})})]})}}]),n}(s.a.Component),q=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"border examInfo",children:[Object(C.jsx)("div",{children:Object(C.jsxs)(u.a,{children:["Exam Name :",Object(C.jsx)(h.a,{type:"text",onChange:this.props.handleChangeExamName})]})}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-6",children:Object(C.jsxs)(u.a,{children:["Start Date:",Object(C.jsx)(h.a,{id:"startDate",bsSize:"lg",type:"datetime-local",name:"startDate",onChange:this.props.handleChangeStartDate})]})}),Object(C.jsx)("div",{className:"col-6",children:Object(C.jsxs)(u.a,{children:["End Date:",Object(C.jsx)(h.a,{id:"endDate",bsSize:"lg",type:"datetime-local",name:"endDate",onChange:this.props.handleChangeEndDate})]})})]})]})}}]),n}(s.a.Component),w=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeQuestionText=function(e){a.setState({questionText:e.target.value})},a.alertMessage=function(){var e=a.state.alertControl;return"emptyOptionText"===e?Object(C.jsx)(p.a,{color:"danger",children:"Option Text is Empty!"}):"noAnswer"===e?Object(C.jsx)(p.a,{color:"danger",children:"Question Must has an Answer!"}):null},a.addOption=function(e,t,n){if(""!==e){var s=v()(e),o=v()(t),r=a.state.options;o&&r.forEach((function(e){!0===e.isAnswer&&(e.isAnswer=!1)})),r.push({optionId:a.state.counter,optionText:s,isAnswer:o});var c=a.state.counter+1;a.setState({counter:c,options:r}),a.setState({alertControl:""}),n()}else a.setState({alertControl:"emptyOptionText"})},a.handleChangeAnswer=function(e){var t=a.state.options;t.forEach((function(t){t.optionId===e?t.isAnswer=!0:t.isAnswer=!1})),a.setState({options:t})},a.deleteOption=function(e){var t=a.state.options,n=[];t.forEach((function(t){t.optionId!==e&&n.push(t)})),a.setState({options:n})},a.handleChangeOptionText=function(e,t){var n=a.state.options;n.forEach((function(n){n.optionId===t&&(n.optionText=e.target.value)})),a.setState({options:n})},a.renderAddedOptions=function(){return 1===a.state.counter?null:Object(C.jsx)("div",{className:"border addedOptions",children:Object(C.jsxs)(x.a,{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Option Text"}),Object(C.jsx)("th",{children:"Is Answer"}),Object(C.jsx)("th",{children:"Select as Answer"}),Object(C.jsx)("th",{children:"Delete"})]})}),Object(C.jsx)("tbody",{children:a.state.options.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)(h.a,{id:e.optionId,disabled:!1,defaultValue:e.optionText,onChange:function(t){return a.handleChangeOptionText(t,e.optionId)}})}),Object(C.jsxs)("td",{children:[e.isAnswer&&Object(C.jsx)("h5",{children:"True"}),!e.isAnswer&&Object(C.jsx)("h5",{children:"False"})]}),Object(C.jsx)("td",{children:Object(C.jsx)(j.a,{className:"btn btn-primary",color:"primary",onClick:function(){return a.handleChangeAnswer(e.optionId)},children:"Select"})}),Object(C.jsx)("td",{children:Object(C.jsx)(j.a,{className:"btn btn-danger",color:"danger",onClick:function(){return a.deleteOption(e.optionId)},children:"Delete"})})]},e.optionId)}))})]})})},a.clearStates=function(){document.getElementById("questionText").value="",document.getElementById("grade").value="",a.setState({questionText:"",options:[],counter:1,grade:0,penalty:0,alertControl:""})},a.handleChangeGrade=function(e){var t=e.target.value,n=33*t/100;a.setState({grade:t,penalty:n})},a.state={questionText:"",grade:0,penalty:0,options:[],counter:1,alertControl:""},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"addQuestion",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)(u.a,{children:["Question Text:",Object(C.jsx)(h.a,{type:"text",onChange:this.handleChangeQuestionText,id:"questionText"})]}),Object(C.jsxs)(u.a,{children:["Grade:",Object(C.jsx)(h.a,{type:"text",onChange:this.handleChangeGrade,id:"grade"})]})]}),this.renderAddedOptions(),Object(C.jsx)("div",{children:this.alertMessage()}),Object(C.jsx)(y,{addOption:function(t,n,a){return e.addOption(t,n,a)}}),Object(C.jsx)("div",{className:"col text-right",children:Object(C.jsx)(j.a,{color:"success",size:"lg",className:"button",onClick:function(){return e.props.addQuestion(e.state.questionText,e.state.grade,e.state.penalty,e.state.options,(function(){return e.clearStates()}))},children:"Add Question"})})]})}}]),n}(s.a.Component),y=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChaneOptionText=function(e){a.setState({optionText:e.target.value})},a.handleChangeIsAnswer=function(){var e=!a.state.isAnswer;a.setState({isAnswer:e})},a.clearStates=function(){document.getElementById("optionText").value="",document.getElementById("isAnswer").checked=!1,a.setState({optionText:"",isAnswer:!1})},a.state={optionText:"",isAnswer:!1},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"addOption",children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)(u.a,{children:["Option Text:",Object(C.jsx)(h.a,{type:"text",onChange:this.handleChaneOptionText,id:"optionText"})]}),Object(C.jsxs)(u.a,{className:"deneme",children:["isAnswer:",Object(C.jsx)(h.a,{type:"checkbox",className:"deneme ",onChange:this.handleChangeIsAnswer,id:"isAnswer"})]})]}),Object(C.jsx)("div",{className:"col text-right",children:Object(C.jsx)(j.a,{color:"success",size:"lg",className:"button",onClick:function(){return e.props.addOption(e.state.optionText,e.state.isAnswer,(function(){return e.clearStates()}))},children:"Add Option"})})]})}}]),n}(s.a.Component),E=Object(I.e)(S),A=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).calculateGrade=function(){var e=a.state.answerKey,t=0;a.state.studentExam.studentAnswers.forEach((function(n){e.forEach((function(e){e.questionId===n.questionId&&e.optionId===n.optionId&&(t+=parseFloat(e.grade))}))}));var n=a.state.studentExam;n.grade=t,a.setState({grade:t,studentExam:n})},a.componentDidMount=function(){f.a.get("/api/".concat(a.props.location.pathname)).then((function(e){console.log(e.data.examId);var t={examId:e.data.examId,studentId:2,grade:0,date:null,studentAnswers:[]};a.setState({studentExam:t}),a.setState({exam:e.data}),a.createAnswerKey()}))},a.createAnswerKey=function(){var e=[];a.state.exam.questions.forEach((function(t){t.options.forEach((function(n){!0===n.isAnswer&&(console.log("question grade:",t.grade),e.push({questionId:t.questionId,optionId:n.optionId,grade:t.grade}))}))})),a.setState({answerKey:e})},a.selectedOption=function(e){var t=null;return e.forEach((function(e){!0===e.checked&&(t=e.optionId)})),t},a.isAnsweredBefore=function(e,t){var n=!1;return e.forEach((function(e){e.questionId===t&&(n=!0)})),n},a.handleSubmit=function(){var e=new Date;a.calculateGrade(),e.getTime()>O()(a.state.exam.endDate)?a.setState({isTooLate:!0}):(f.a.post("/api/take/exam",a.state.studentExam).then((function(e){console.log(e),console.log(e.data)})),a.props.history.push("/examList"))},a.onChangeAnswer=function(e,t){var n=a.selectedOption(e),s=a.state.studentExam;if(null!==n)if(a.isAnsweredBefore(s.studentAnswers,t))s.studentAnswers.forEach((function(e){e.questionId===t&&(e.optionId=n)}));else{var o={questionId:t,optionId:n};s.studentAnswers.push(o)}else a.isAnsweredBefore(s.studentAnswers,t)&&s.studentAnswers.forEach((function(e){e.questionId===t&&(s.studentAnswers=a.deleteFromAnswers(s.studentAnswers,t))}));a.setState({studentExam:s})},a.deleteFromAnswers=function(e,t){var n=[];return e.forEach((function(e){if(e.questionId!==t){var a={questionId:e.questionId,optionId:e.optionId};n.push(a)}})),n},a.renderQuestions=function(){var e=0;return a.state.exam.questions?a.state.exam.questions.map((function(t){return Object(C.jsx)("div",{className:"question",children:Object(C.jsx)(N,{options:t.options,questionText:t.questionText,questionId:t.questionId,counter:e+=1,onChange:function(e,t){return a.onChangeAnswer(e,t)}},t.questionId)})})):null},a.state={exam:{},studentExam:null,grade:0,answerKey:[],isTooLate:!1},a}return Object(i.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"exam",children:[Object(C.jsx)("div",{className:"col text-center",children:Object(C.jsx)("h1",{children:this.state.exam.examName})}),Object(C.jsx)("div",{}),this.renderQuestions(),Object(C.jsx)("div",{className:"col text-right",children:Object(C.jsx)(j.a,{className:"btn btn-primary ",size:"lg",color:"primary",onClick:this.handleSubmit,children:"Submit"})})]})}}]),n}(s.a.Component),N=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.setState({options:a.props.options});var e=[];a.props.options.forEach((function(t){var n={optionId:t.optionId,checked:!1};e.push(n)})),a.setState({checkedList:e})},a.findQuestionChecked=function(e){var t=null;return a.state.checkedList.forEach((function(n){n.optionId===e&&(t=n.checked)})),t},a.onChangeOption=function(e){var t=a.state.checkedList;t.forEach((function(t){t.optionId===e&&(t.checked=!t.checked)})),t.forEach((function(t){t.optionId!==e&&(t.checked=!1)})),a.setState({checkedList:t})},a.state={options:[],checkedList:[]},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{children:[Object(C.jsxs)("h3",{children:["Q",this.props.counter,")"," ",this.props.questionText]}),this.state.options.map((function(t){return Object(C.jsx)("div",{className:"options ",children:Object(C.jsxs)(u.a,{size:"lg",children:[Object(C.jsx)(h.a,{id:t.optionId,type:"checkbox",checked:e.findQuestionChecked(t.optionId),onClick:function(){return e.onChangeOption(t.optionId)},onChange:function(){return e.props.onChange(e.state.checkedList,e.props.questionId)},className:"checkbox"}),t.optionText]})})}))]})}}]),n}(s.a.Component),T=Object(I.e)(A),D=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){f.a.get("/api/exams").then((function(e){console.log(e.data),a.setState({exams:e.data})}))},a.state={exams:[],path:-1},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsx)("div",{children:Object(C.jsxs)(x.a,{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Exam Name"}),Object(C.jsx)("th",{children:"Instructor"}),Object(C.jsx)("th",{children:"Start Date"}),Object(C.jsx)("th",{children:"End Date"}),Object(C.jsx)("th",{children:"Take"}),Object(C.jsx)("th",{})]})}),Object(C.jsx)("tbody",{children:this.state.exams.map((function(t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t.examName}),Object(C.jsx)("td",{children:t.instructor.name}),Object(C.jsx)("td",{children:O()(t.startDate).format("DD/MM/YYYY hh:mm")}),Object(C.jsx)("td",{children:O()(t.endDate).format("DD/MM/YYYY hh:mm")}),Object(C.jsx)("td",{children:Object(C.jsx)(j.a,{onClick:function(){e.props.history.push("/exam/".concat(t.examId))},className:"btn btn-primary",color:"primary",children:"Take"})})]},t.examId)}))})]})})}}]),n}(s.a.Component),k=Object(I.e)(D),Q=n(197),L=n(198),M=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsx)("div",{className:"login-wrapper",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{children:"Login"}),Object(C.jsxs)(Q.a,{onSubmit:function(e){e.preventDefault()},children:[Object(C.jsxs)(L.a,{children:[Object(C.jsx)(u.a,{for:"username",children:"Email"}),Object(C.jsx)(h.a,{type:"text",name:"user",id:"username",placeholder:"username"})]}),Object(C.jsxs)(L.a,{children:[Object(C.jsx)(u.a,{for:"password",children:"Password"}),Object(C.jsx)(h.a,{type:"password",name:"password",id:"password",placeholder:"password"})]}),Object(C.jsx)("div",{className:"col text-right",children:Object(C.jsx)(j.a,{type:"submit",className:"btn btn-primary",size:"lg",color:"primary",onClick:function(){e.props.history.push("/examList")},children:"Submit"})})]})]})})}}]),n}(s.a.Component),B=Object(I.e)(M),F=n(22),G=n(83);var z=function(){return Object(C.jsx)("div",{className:"page h-100",children:Object(C.jsx)(F.a,{children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(I.a,{path:"/",exact:!0,component:B}),Object(C.jsx)(I.a,{path:"/login",exact:!0,children:Object(C.jsx)(B,{})}),Object(C.jsx)(I.a,{path:"/createExam",children:Object(C.jsx)(E,{})}),Object(C.jsx)(I.a,{path:"/examList",children:Object(C.jsx)(k,{})}),Object(C.jsx)(I.a,{path:"/exam/:examId",component:T})]})})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,200)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),o(e),r(e)}))};r.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(z,{})}),document.getElementById("root")),Y()},76:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){}},[[192,1,2]]]);
//# sourceMappingURL=main.16218415.chunk.js.map